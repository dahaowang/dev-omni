@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Optimized Dark Theme */
    --color-app-bg: #0c0c0c;       /* Main content background - Deep Matte Black */
    --color-sidebar-bg: #050505;   /* Sidebar - Almost Pure Black */
    --color-panel-bg: #171717;     /* Cards - Dark Neutral Grey */
    --color-element-bg: #262626;   /* Secondary Elements/Buttons */
    --color-input-bg: #0a0a0a;     /* Inset Inputs - Deep Black */
    
    --color-border: #262626;       /* Subtle Borders */
    --color-border-hover: #404040; /* Lighter on hover */
    
    --color-text-primary: #ededed;   /* High brightness text */
    --color-text-secondary: #888888; /* Muted text */
    
    --color-accent: #2dd4bf;         /* Teal 400 - Vibrant Accent */
    --color-active-item: #1a1a1a;    /* Sidebar Active Background */
    --color-hover-overlay: rgba(255, 255, 255, 0.05);
    
    --shadow-card: 0 4px 6px -1px rgba(0, 0, 0, 0.5), 0 2px 4px -1px rgba(0, 0, 0, 0.3);
  }

  [data-theme='graphite'] {
    /* Modern Grey Theme */
    --color-app-bg: #292929;       /* Deep Grey Background */
    --color-sidebar-bg: #222222;   /* Slightly darker sidebar for hierarchy */
    --color-panel-bg: #393939;     /* Lighter Grey Cards (Floating effect) */
    --color-element-bg: #4a4a4a;   /* Elements on top of cards */
    --color-input-bg: #222222;     /* Dark inset for inputs */
    
    --color-border: #444444;       /* Softer grey borders */
    --color-border-hover: #555555;
    
    --color-text-primary: #ffffff;   /* Pure White */
    --color-text-secondary: #a3a3a3; /* Light Grey */
    
    --color-accent: #2dd4bf;         /* Keep Brand Teal */
    --color-active-item: #393939;    /* Active state matches panel */
    --color-hover-overlay: rgba(255, 255, 255, 0.08);
    
    --shadow-card: 0 8px 24px -4px rgba(0, 0, 0, 0.4), 0 4px 12px -2px rgba(0, 0, 0, 0.2);
  }

  [data-theme='cream'] {
    /* Cream / Latte Theme - Warm White Panels */
    --color-app-bg: #F2EFE5;       /* Warm Cream Background */
    --color-sidebar-bg: #F2EFE5;   /* Seamless sidebar */
    
    /* Reverted to Warm White as requested */
    --color-panel-bg: #FDFCF8;     
    
    /* Elements slightly darker than panel to pop */
    --color-element-bg: #EAE7DE;   
    --color-input-bg: #FDFCF8;     
    
    /* Low contrast borders */
    --color-border: #E4E1D5;       
    --color-border-hover: #D1CEC2;
    
    /* Soft Black Text for better aesthetics on white */
    --color-text-primary: #333333;   
    --color-text-secondary: #79766D; /* Warm Grey */
    
    --color-accent: #57A364;         /* Natural Green */
    --color-active-item: #EAE7DE;    /* Matches element */
    --color-hover-overlay: rgba(0, 0, 0, 0.04);
    
    /* Warm, diffused brown shadow */
    --shadow-card: 0 8px 20px -6px rgba(105, 95, 80, 0.1), 0 2px 8px -2px rgba(105, 95, 80, 0.05);
  }

  [data-theme='light'] {
    /* Refined Light Theme */
    --color-app-bg: #f3f4f6;
    --color-sidebar-bg: #ffffff;
    --color-panel-bg: #ffffff;
    --color-element-bg: #f1f5f9;
    --color-input-bg: #ffffff;
    
    --color-border: #e2e8f0;
    --color-border-hover: #cbd5e1;
    
    --color-text-primary: #0f172a;
    --color-text-secondary: #64748b;
    
    --color-accent: #0d9488;
    --color-active-item: #eff6ff;
    --color-hover-overlay: rgba(0, 0, 0, 0.03);
    
    --shadow-card: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1);
  }

  [data-theme='glass'] {
    /* Light Frosted Glass (Taupe/Stone Identity) */
    
    --color-app-bg: transparent; /* Handled by body gradient */
    
    /* High transparency white for that "clear glass" look */
    --color-sidebar-bg: rgba(255, 255, 255, 0.25); 
    --color-panel-bg: rgba(255, 255, 255, 0.45);
    
    /* Elements slightly more opaque or different tint */
    --color-element-bg: rgba(255, 255, 255, 0.4);
    --color-input-bg: rgba(255, 255, 255, 0.25);
    
    /* Crisp white borders for glass edges */
    --color-border: rgba(255, 255, 255, 0.4);
    --color-border-hover: rgba(255, 255, 255, 0.6);
    
    /* Dark text for contrast on light glass */
    --color-text-primary: #292524;   /* Stone 800 */
    --color-text-secondary: #57534e; /* Stone 600 */
    
    /* Accent: Darker stone/taupe to complement #B2AEAB */
    --color-accent: #78716c; /* Stone 500 */
    
    --color-active-item: rgba(255, 255, 255, 0.5);
    --color-hover-overlay: rgba(255, 255, 255, 0.3);
    
    /* Glass shadow - Soft and diffused */
    --shadow-card: 0 8px 32px 0 rgba(0, 0, 0, 0.07);
  }

  /* Light Body Gradient for Glass Theme */
  [data-theme='glass'] body {
     /* Linear gradient from Soft Stone White to the requested #B2AEAB */
     background-image: linear-gradient(135deg, #f5f5f4 0%, #B2AEAB 100%);
     background-attachment: fixed;
     background-repeat: no-repeat;
  }
}

body {
  @apply bg-app-bg text-text-primary transition-colors duration-200;
}

/* Apply Enhanced Backdrop Blur for Glass Theme */
[data-theme='glass'] .bg-sidebar-bg,
[data-theme='glass'] .bg-panel-bg,
[data-theme='glass'] .bg-element-bg {
  backdrop-filter: blur(24px) saturate(140%);
  -webkit-backdrop-filter: blur(24px) saturate(140%);
  /* Add subtle white inset to simulate glass edge thickness */
  box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.2);
}

/* Custom Scrollbar */
::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}
::-webkit-scrollbar-track {
  background: transparent; 
}
::-webkit-scrollbar-thumb {
  background: var(--color-border); 
  border-radius: 5px;
  border: 3px solid transparent;
  background-clip: content-box;
}
::-webkit-scrollbar-thumb:hover {
  background-color: var(--color-text-secondary); 
}

/* Toggle Switch */
.toggle-checkbox {
  appearance: none;
  width: 36px;
  height: 20px;
  background: var(--color-element-bg);
  border: 1px solid var(--color-border);
  border-radius: 9999px;
  position: relative;
  cursor: pointer;
  transition: all 0.2s ease;
}
.toggle-checkbox::after {
  content: '';
  position: absolute;
  top: 2px;
  left: 2px;
  width: 14px;
  height: 14px;
  background: var(--color-text-secondary);
  border-radius: 50%;
  transition: all 0.2s ease;
}
.toggle-checkbox:checked {
  background: var(--color-accent);
  border-color: var(--color-accent);
}
.toggle-checkbox:checked::after {
  transform: translateX(16px);
  background: white;
}

/* Electron Drag Region */
.electron-drag {
  -webkit-app-region: drag;
}
.electron-no-drag {
  -webkit-app-region: no-drag;
}